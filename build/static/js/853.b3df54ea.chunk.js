"use strict";(self.webpackChunktestkube_dashboard=self.webpackChunktestkube_dashboard||[]).push([[853],{15853:function(e,t,r){r.r(t),r.d(t,{MonacoDiffEditor:function(){return l},default:function(){return g},monaco:function(){return n}});var n=r(82528),u=r(72791);function o(e){return/^\d+$/.test(e)?"".concat(e,"px"):e}function i(){}var c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e},c.apply(this,arguments)};function a(e){var t=e.width,r=e.height,i=e.value,a=e.defaultValue,l=e.language,f=e.theme,d=e.options,s=e.overrideServices,g=e.editorWillMount,p=e.editorDidMount,h=e.editorWillUnmount,v=e.onChange,m=e.className,M=e.original,E=(0,u.useRef)(null),y=(0,u.useRef)(null),O=(0,u.useRef)(null),b=(0,u.useRef)(null),C=o(t),w=o(r),N=(0,u.useMemo)((function(){return{width:C,height:w}}),[C,w]);return(0,u.useEffect)((function(){E.current&&(g(n),y.current=n.editor.createDiffEditor(E.current,c(c(c({},m?{extraEditorClassName:m}:{}),d),f?{theme:f}:{}),s),function(){var e=null!=i?i:a,t=n.editor.createModel(M,l),r=n.editor.createModel(e,l);y.current.setModel({original:t,modified:r})}(),function(){p(y.current,n);var e=y.current.getModel().modified;O.current=e.onDidChangeContent((function(t){b.current||v(e.getValue(),t)}))}())}),[]),(0,u.useEffect)((function(){y.current&&y.current.updateOptions(c(c({},m?{extraEditorClassName:m}:{}),d))}),[m,d]),(0,u.useEffect)((function(){y.current&&y.current.layout()}),[t,r]),(0,u.useEffect)((function(){if(y.current){var e=y.current.getModel(),t=e.original,r=e.modified;n.editor.setModelLanguage(t,l),n.editor.setModelLanguage(r,l)}}),[l]),(0,u.useEffect)((function(){if(y.current){var e=y.current.getModel().modified;b.current=!0,y.current.getModifiedEditor().pushUndoStop(),e.pushEditOperations([],[{range:e.getFullModelRange(),text:i}]),y.current.getModifiedEditor().pushUndoStop(),b.current=!1}}),[i]),(0,u.useEffect)((function(){n.editor.setTheme(f)}),[f]),(0,u.useEffect)((function(){if(y.current){var e=y.current.getModel().original;M!==e.getValue()&&e.setValue(M)}}),[M]),(0,u.useEffect)((function(){return function(){if(y.current){h(y.current,n),y.current.dispose();var e=y.current.getModel(),t=e.original,r=e.modified;t&&t.dispose(),r&&r.dispose()}O.current&&O.current.dispose()}}),[]),u.createElement("div",{ref:E,style:N,className:"react-monaco-editor-container"})}a.defaultProps={width:"100%",height:"100%",original:null,value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorWillMount:i,editorDidMount:i,editorWillUnmount:i,onChange:i,className:null},a.displayName="MonacoDiffEditor";var l=a,f=function(){return f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e},f.apply(this,arguments)},d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(e);u<n.length;u++)t.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(e,n[u])&&(r[n[u]]=e[n[u]])}return r};function s(e){var t=e.width,r=e.height,i=e.value,c=e.defaultValue,a=e.language,l=e.theme,s=e.options,g=e.overrideServices,p=e.editorWillMount,h=e.editorDidMount,v=e.editorWillUnmount,m=e.onChange,M=e.className,E=(0,u.useRef)(null),y=(0,u.useRef)(null),O=(0,u.useRef)(null),b=(0,u.useRef)(null),C=o(t),w=o(r),N=(0,u.useMemo)((function(){return{width:C,height:w}}),[C,w]);return(0,u.useEffect)((function(){var e=null!==i?i:c;if(E.current){var t=f(f({},s),p(n)||{});y.current=n.editor.create(E.current,f(f(f({value:e,language:a},M?{extraEditorClassName:M}:{}),t),l?{theme:l}:{}),g),h(y.current,n),O.current=y.current.onDidChangeModelContent((function(e){b.current||m(y.current.getValue(),e)}))}}),[]),(0,u.useEffect)((function(){if(y.current){if(i===y.current.getValue())return;var e=y.current.getModel();b.current=!0,y.current.pushUndoStop(),e.pushEditOperations([],[{range:e.getFullModelRange(),text:i}],void 0),y.current.pushUndoStop(),b.current=!1}}),[i]),(0,u.useEffect)((function(){if(y.current){var e=y.current.getModel();n.editor.setModelLanguage(e,a)}}),[a]),(0,u.useEffect)((function(){if(y.current){s.model;var e=d(s,["model"]);y.current.updateOptions(f(f({},M?{extraEditorClassName:M}:{}),e))}}),[M,s]),(0,u.useEffect)((function(){y.current&&y.current.layout()}),[t,r]),(0,u.useEffect)((function(){n.editor.setTheme(l)}),[l]),(0,u.useEffect)((function(){return function(){if(y.current){v(y.current,n),y.current.dispose();var e=y.current.getModel();e&&e.dispose()}O.current&&O.current.dispose()}}),[]),u.createElement("div",{ref:E,style:N,className:"react-monaco-editor-container"})}s.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorWillMount:i,editorDidMount:i,editorWillUnmount:i,onChange:i,className:null},s.displayName="MonacoEditor";var g=s}}]);
//# sourceMappingURL=853.b3df54ea.chunk.js.map